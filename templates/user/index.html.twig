{% extends 'base.html.twig' %}

{% block title %}{{controller_name}}{% endblock %}


{% block body %}
    <h1>Listes des utilisateurs</h1>

    {% for message in app.flashes('success') %}
	<div class="alert alert-primary">
		{{ message }}
	</div>
    {% endfor %}


    <div style="text-align: right; margin-bottom: 20px;">
        <a href="{{path('user_new')}}">
            <button class="btn btn-success">

                <i class="fas fa-plus" style="margin-right: 5px; "></i>Nouvelle utilisateur
            </button>
        </a>
    </div>

    <table class="table" data-toggle="table" data-search="true" data-show-columns="true" data-pagination="true" >
        <thead>
            <tr>
                <th data-sortable="true" data-field="id">ID</th>
                <th data-sortable="true" data-field="nom">Nom</th>
                <th data-sortable="true" data-field="prenom">Prénom</th>
                <th>Email</th>
                {#<th>Roles</th>
                <th>Mot de passe</th>#}
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.firstname }}</td>
                <td>{{ user.lastname }}</td>
                <td>{{ user.email }}</td>
               {#<td>{{ user.roles ? user.roles|json_encode : '' }}</td> 
                <td>{{ user.password }}</td>#}
                <td>
                <div style="text-align:center;">
                    <a href="{{ path('user_show', {'id': user.id}) }}" class="btn btn-info" style="width: 30%;" ><i class="far fa-eye"></i></a>
                    <a href="{{ path('user_edit', {'id': user.id}) }}" class="btn btn-warning" style="width: 30%; margin-left: 15px;"><i class="fas fa-user-edit"></i></a>
                </div>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">Aucun enregistrement trouvé</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

   
{% endblock %}
